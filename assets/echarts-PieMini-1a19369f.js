import{t as h}from"./themeChart-df325d8f.js";import{n as p}from"./index-2766203e.js";const u={mixins:[h],components:{},data(){return{chartData:{color:[$c.cyl4,$c.bll8],data:[43,97,43,60],center:[["28%","20%"],["28%","40%"],["28%","60%"],["28%","80%"]],sum:243},chartOption:{}}},watch:{"$tState.mapData.code"(i,a){this.chartData.data=this.randomData({min:0,max:100,length:4,group:1})[0],this.processData(),this.chartOption.update=!0}},computed:{},methods:{processData(){const{getColor:i}=this,{data:a,color:r,center:c,sum:n}=this.chartData;let s=[];for(let t=1;t<=4;t++)s.push(this.$t(`dashboardA.mapMinPie.legend${t}`));this.chartOption.color=r,this.chartOption.title=[];for(let t=0;t<s.length;t++)this.chartOption.title.push({text:(a[t]/n*100).toFixed(0)+"%",subtext:s[t],itemGap:5,top:20*(t+1)-8+"%",left:"50%",textAlign:"left",textStyle:{color:i("staFC"),fontSize:16,fontWeight:"bold"},subtextStyle:{color:i("staFCS"),fontSize:12,fontWeight:"normal"}});let o=[],l=[];for(let t=0;t<3;t++)if(o.push([]),t==0)for(let e=0;e<s.length+1;e++)e==0?o[t].push("product"):o[t].push(s[e-1]);else for(let e=0;e<a.length+1;e++)e==0?o[t].push(t==1?"实际":"其他"):o[t].push(t==1?a[e-1]:n-a[e-1]);s.forEach((t,e)=>{l.push({name:s[e],type:"pie",radius:["20%","40%"],center:c[e],label:{show:!1},labelLine:{show:!1},encode:{itemName:"product",value:s[e]}})}),this.chartOption.dataset.source=o,this.chartOption.series=l},processOption(){this.chartOption={title:[{text:"",left:"center"}],legend:{show:!1},tooltip:{},dataset:{source:[]},series:[]},this.processData()}},mounted(){this.processOption()}};var d=function(){var a=this,r=a._self._c;return r("div",{staticClass:"pieMini-wrap"},[r("echartsInit",{attrs:{chartOption:a.chartOption}})],1)},f=[],m=p(u,d,f,!1,null,null,null,null);const x=m.exports;export{x as default};
