import{n as o}from"./index-2766203e.js";const c="/assets/storage1p5-906ce6c3.png",n="/assets/storage2-445b8cc5.png",r="/assets/storage3p-2bb9f5ee.png",d="/assets/storage4-4ff8e133.png",h="/assets/video-f2753076.mp4";const v={props:["viewState"],mixins:[],data(){return{video:h,demoLoop:-1,modalConfig:{showBackDrop:!1,backDropTrans:!1,showCamPre:!1,showDetail:!1},alarm:{show:!1,level:-1},camShow:!0,infoShow:!0,currentHotSpot:0,hotSpot:[{id:"d11",title:"1号库1号门",state:2,x:1336,y:292},{id:"d12",title:"1号库2号门",state:-1,x:1136,y:396},{id:"d2",title:"2号库",state:1,x:915,y:510,z:6},{id:"d3",title:"3号库",state:0,x:1076,y:531},{id:"d41",title:"4号库1号门",state:0,x:596,y:678,z:6},{id:"d42",title:"4号库2号门",state:2,x:580,y:475},{id:"d5",title:"5号库",state:0,x:909,y:338}],hotSpotDetail:[{id:"d11",title:"1号库1号门",x:1221,y:110,children:[{title:"温度",label:"temperature",val:0,state:-1,unit:"℃"},{title:"湿度",label:"humidity",val:79,state:1,unit:"%"},{title:"PM2.5",label:"pm25",val:34,state:0,unit:"μg/m³"},{title:"VOC",label:"voc",val:102,state:0,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:2,icon:"svgIcon svg-bolt"}]},{id:"d12",title:"1号库2号门",x:1100,y:170,children:[{title:"温度",label:"temperature",val:0,state:-1,unit:"℃"},{title:"湿度",label:"humidity",val:0,state:-1,unit:"%"},{title:"PM2.5",label:"pm25",val:34,state:0,unit:"μg/m³"},{title:"VOC",label:"voc",val:102,state:0,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:0,icon:"svgIcon svg-bolt"}]},{id:"d2",title:"2号库",x:845,y:300,children:[{title:"温度",label:"temperature",val:22,state:0,unit:"℃"},{title:"湿度",label:"humidity",val:45,state:0,unit:"%"},{title:"PM2.5",label:"pm25",val:248,state:1,unit:"μg/m³"},{title:"VOC",label:"voc",val:102,state:0,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:0,icon:"svgIcon svg-bolt"}]},{id:"d3",title:"3号库",x:1093,y:442,children:[{title:"温度",label:"temperature",val:22,state:0,unit:"℃"},{title:"湿度",label:"humidity",val:45,state:0,unit:"%"},{title:"PM2.5",label:"pm25",val:34,state:0,unit:"μg/m³"},{title:"VOC",label:"voc",val:102,state:0,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:0,icon:"svgIcon svg-bolt"}]},{id:"d41",title:"4号库1号门",x:520,y:470,children:[{title:"温度",label:"temperature",val:22,state:0,unit:"℃"},{title:"湿度",label:"humidity",val:45,state:0,unit:"%"},{title:"PM2.5",label:"pm25",val:34,state:0,unit:"μg/m³"},{title:"VOC",label:"voc",val:102,state:0,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:0,icon:"svgIcon svg-bolt"}]},{id:"d42",title:"4号库2号门",x:424,y:410,children:[{title:"温度",label:"temperature",val:23,state:0,unit:"℃"},{title:"湿度",label:"humidity",val:45,state:0,unit:"%"},{title:"PM2.5",label:"pm25",val:34,state:0,unit:"μg/m³"},{title:"VOC",label:"voc",val:342,state:2,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:0,icon:"svgIcon svg-bolt"}]},{id:"d5",title:"5号库",x:990,y:110,children:[{title:"温度",label:"temperature",val:32,state:0,unit:"℃"},{title:"湿度",label:"humidity",val:45,state:0,unit:"%"},{title:"PM2.5",label:"pm25",val:34,state:0,unit:"μg/m³"},{title:"VOC",label:"voc",val:102,state:0,unit:"ppm"},{title:"烟感",label:"power",state:0,icon:"svgIcon svg-burn"},{title:"电力",label:"smokeAlarm",state:0,icon:"svgIcon svg-bolt"}]}],storage:[{title:"1p5",src:c,w:442,h:309,x:1108,y:242,z:2},{title:"2",src:n,w:333,h:249,x:842,y:438,z:5},{title:"3p",src:r,w:397,h:251,x:1136,y:578,z:5},{title:"4",src:d,w:437,h:305,x:472,y:578,z:5}],currentCam:"",webcam:[{id:"d11c1",title:"1号库1号门 1号摄像头",state:0,x:1183,y:215},{id:"d11c2",title:"1号库1号门 2号摄像头",state:2,x:1267,y:171},{id:"d12c1",title:"1号库2号门 1号摄像头",state:0,x:1068,y:273},{id:"d12c2",title:"1号库2号门 2号摄像头",state:2,x:1140,y:234},{id:"d2c1",title:"2号库 1号摄像头",state:2,x:753,y:441,z:7},{id:"d2c2",title:"2号库 2号摄像头",state:-1,x:942,y:342,z:7},{id:"d3c1",title:"3号库 1号摄像头",state:0,x:1014,y:580,z:10},{id:"d3c2",title:"3号库 2号摄像头",state:1,x:1201,y:480,z:10},{id:"d41c1",title:"4号库1号门 1号摄像头",state:0,x:434,y:608,z:7},{id:"d41c2",title:"4号库1号门 2号摄像头",state:0,x:620,y:511,z:10},{id:"d42c1",title:"4号库2号门 1号摄像头",state:0,x:331,y:550,z:7},{id:"d42c2",title:"4号库2号门 2号摄像头",state:0,x:515,y:455,z:7},{id:"d5c1",title:"5号库 1号摄像头",state:0,x:969,y:213,z:7},{id:"d5c2",title:"5号库 2号摄像头",state:0,x:1151,y:117,z:7}]}},components:{},computed:{},methods:{closeModal(s){switch(s){case"camPre":this.modalConfig.showCamPre=!1;break;case"all":this.modalConfig.showCamPre=!1,this.modalConfig.showDetail=!1,this.currentHotSpot=-1;break}this.modalConfig.showBackDrop=!1,this.modalConfig.backDropTrans=!1},showModal(s,t,e){switch(s){case"camPre":if(e.state==0)this.modalConfig.showCamPre=!0,this.currentCam=t,this.modalConfig.showBackDrop=!0;else{let a="",l="";e.state==-1?(a="",l=this.$t("warehouse.message.offline")):e.state==1?(a="warning",l=this.$t("warehouse.message.error")):e.state==2&&(a="error",l=this.$t("warehouse.message.warning")),this.$message({message:this.$t(`warehouse.camera.${e.id}`)+" "+l,type:a,appendTo:document.getElementById("stage")})}break;case"detail":this.modalConfig.showDetail=!0,this.modalConfig.backDropTrans=!0,this.currentHotSpot=t,this.modalConfig.showBackDrop=!0;break}},toggleState(s){switch(s){case"cam":this.camShow=!this.camShow;break;case"view":this.viewState.maximize=!this.viewState.maximize;break;case"info":this.infoShow=!this.infoShow;break;case"alarm":this.$message({message:this.$t("warehouse.message.demoStart"),type:"warning",appendTo:document.getElementById("stage")}),this.demoLoop=0,this.stateRecover(),this.loopStateDemo();break}},hotSpotAction(s,t){t==1?s.hover=!0:t==2&&(s.hover=!1)},stateRecover(){this.hotSpot.forEach((s,t)=>{s.state=0}),this.hotSpotDetail.forEach((s,t)=>{s.children.forEach((e,a)=>{e.state=0})})},loopStateDemo(){const{$timer:s}=this;s("demoState",()=>{this.demoLoop>-1&&this.demoLoop<3?(this.stateRecover(),this.demoLoop==0?(this.hotSpot[0].state=1,this.hotSpotDetail[0].children[5].state=1,this.hotSpotDetail[0].children[2].state=1,this.alarm.show=!0,this.alarm.level=1,s("alarm",()=>{this.alarm.show=!1},4500)):this.demoLoop==1?(this.hotSpot[2].state=-1,this.hotSpotDetail[2].children[1].state=-1,this.alarm.show=!0,this.alarm.level=-1,s("alarm",()=>{this.alarm.show=!1},4500)):this.demoLoop==2&&(this.hotSpot[4].state=2,this.hotSpotDetail[4].children[3].state=2,this.hotSpot[5].state=2,this.hotSpotDetail[5].children[5].state=2,this.alarm.show=!0,this.alarm.level=2,s("alarm",()=>{this.alarm.show=!1},4500)),this.demoLoop++,this.loopStateDemo()):(this.$message({message:this.$t("warehouse.message.demoEnd"),type:"success",appendTo:document.getElementById("stage")}),this.demoLoop=-1)},7e3)}},mounted(){}};var m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"stage",class:["alarm"+t.alarm.level,t.alarm.show?"alarm":""],attrs:{id:"stage"}},[e("div",{staticClass:"view-btn"},[e("div",{staticClass:"toggle-btn toggle-info",on:{click:function(a){return t.toggleState("info")}}},[t.infoShow?e("i",{staticClass:"svgIcon svg-map-marker-alt"}):t._e(),t.infoShow?t._e():e("i",{staticClass:"svgIcon svg-map-marker-alt-slash"})]),e("div",{staticClass:"toggle-btn toggle-webcam",on:{click:function(a){return t.toggleState("cam")}}},[t.camShow?e("i",{staticClass:"svgIcon svg-webcam"}):t._e(),t.camShow?t._e():e("i",{staticClass:"svgIcon svg-webcam-slash"})]),e("div",{staticClass:"toggle-btn toggle-alarm",on:{click:function(a){return t.toggleState("alarm")}}},[t.demoLoop==-1?e("i",{staticClass:"svgIcon svg-light-emergency"}):t._e(),t.demoLoop>-1?e("i",{staticClass:"svgIcon svg-light-emergency-on"}):t._e()])]),t._l(t.storage,function(a,l){return e("img",{key:"st"+l,staticClass:"storage",class:"storage-"+a.title,style:"width:"+a.w+"px; height:"+a.h+"px; left:"+a.x+"px; top:"+a.y+"px; z-index:"+a.z+";",attrs:{src:a.src,alt:""}})}),t._l(t.hotSpot,function(a,l){return t.infoShow?e("div",{key:"hs1"+l,staticClass:"hotSpot",class:["state-"+a.state,a.hover?"hover":"",t.modalConfig.showBackDrop?"hide":"show"],style:"left:"+a.x+"px; top:"+a.y+"px; z-index:"+a.z+";",on:{click:function(i){return t.showModal("detail",l)}}},[e("i",{staticClass:"icon svgIcon svg-map-marker-alt"}),e("div",{staticClass:"wave"}),e("div",{staticClass:"chatbox"},[a.state==-1?e("span",{staticClass:"count"},[t._v(t._s(t.$t("warehouse.state.offline")))]):t._e(),a.state==0?e("span",{staticClass:"count"},[t._v(t._s(t.$t("warehouse.state.normal")))]):t._e(),a.state==1?e("span",{staticClass:"count"},[t._v(t._s(t.$t("warehouse.state.warning")))]):t._e(),a.state==2?e("span",{staticClass:"count"},[t._v(t._s(t.$t("warehouse.state.error")))]):t._e(),e("span",{staticClass:"name"},[t._v(t._s(t.$t(`warehouse.door.${a.id}`)))])])]):t._e()}),t._l(t.webcam,function(a,l){return t.camShow?e("div",{key:"cai"+l,staticClass:"cam-item",class:[t.modalConfig.showBackDrop?"hide":"show","state-"+a.state],style:"left:"+a.x+"px; top:"+a.y+"px; z-index:"+a.z+";",on:{click:function(i){return t.showModal("camPre",l,a)}}},[e("el-tooltip",{attrs:{placement:"top",effect:"dark","show-after":1e3,content:t.$t(`warehouse.camera.${a.id}`)}},[e("i",{staticClass:"svgIcon svg-webcam"})])],1):t._e()}),t.modalConfig.showDetail?e("div",{staticClass:"detail-box",style:"left:"+t.hotSpotDetail[t.currentHotSpot].x+"px; top:"+t.hotSpotDetail[t.currentHotSpot].y+"px;"},[e("div",{staticClass:"detail-inner"},[e("div",{staticClass:"detail-title"},[t._v(t._s(t.$t(`warehouse.door.${t.hotSpotDetail[t.currentHotSpot].id}`)))]),t._l(t.hotSpotDetail[t.currentHotSpot].children,function(a,l){return e("div",{key:l,staticClass:"item"},[a.icon?e("div",{staticClass:"circle circle-icon",class:"state-"+a.state},[e("i",{class:"objectIcon "+a.icon})]):t._e(),a.icon?t._e():e("div",{staticClass:"circle circle-count",class:"state-"+a.state},[a.state!=-1?e("DigitalTransform",{staticClass:"count",attrs:{value:a.val,interval:t.globalConfig.animation?1e3:0,dislocation:!0}}):e("span",[t._v("-")]),e("span",{staticClass:"unit"},[t._v(t._s(a.unit))])],1),e("div",{staticClass:"title"},[t._v(t._s(t.$t(`warehouse.type.${a.label}`)))])])})],2)]):t._e(),e("div",{staticClass:"track"}),t._m(0),t.modalConfig.showCamPre?e("div",{staticClass:"cam-preview"},[e("div",{staticClass:"cam-title"},[t._v(t._s(t.$t(`warehouse.camera.${t.webcam[t.currentCam].id}`)))]),e("video",{attrs:{src:t.video,autoplay:"",controls:""}}),e("div",{staticClass:"cam-close",on:{click:function(a){return t.closeModal("camPre")}}},[e("i",{staticClass:"svgIcon svg-times"})]),e("div",{staticClass:"border-bottom"})]):t._e(),e("div",{staticClass:"backDrop",class:[t.modalConfig.backDropTrans?"transparent":"normal",t.modalConfig.showBackDrop?"show":"hide"],on:{click:function(a){return t.closeModal("all")}}})],2)},p=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"aniObj"},[t("div",{staticClass:"light1"}),t("div",{staticClass:"light2"}),t("div",{staticClass:"iconCloud"}),t("div",{staticClass:"icon1"}),t("div",{staticClass:"icon2"}),t("div",{staticClass:"icon3"}),t("div",{staticClass:"icon4"}),t("div",{staticClass:"icon5"}),t("div",{staticClass:"icon6"}),t("div",{staticClass:"icon7"})])}],g=o(v,m,p,!1,null,null,null,null);const w=g.exports;export{w as default};
