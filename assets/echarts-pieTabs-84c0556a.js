import{t as l}from"./themeChart-df325d8f.js";import{n as c}from"./index-2766203e.js";const n={components:{},mixins:[l],data(){return{current:0,title:"年用水量",total:0,buttonConfig:{height:30,decoration:!1},chartData:[{name:"年用水量",legend:["工业用水","农业用水","生活用水","循环水","其他"],colors:[$c.bll5,$c.inl3,$c.yel3,$c.orl3,$c.rel3],data:[625,352,123,83,129]},{name:"日用水量",legend:["工业用水","农业用水","生活用水","循环水","其他"],colors:[$c.bll5,$c.inl3,$c.yel3,$c.orl3,$c.rel3],data:[15,72,43,13,20]}],chartOption:{}}},computed:{},props:["tabActive"],watch:{tabActive(e){let t=this.randomData({min:1,max:999,length:5,group:2});this.chartData[0].data=t[0],this.chartData[1].data=t[1],this.processData(),this.chartOption.update=!0}},methods:{tabClick(e){this.current=e,this.processData(),this.chartOption.update=!0},processData(){let{legend:e,colors:t,data:a}=this.chartData[this.current],r=[],s=0;e.forEach((o,i)=>{r.push({value:a[i],name:e[i],itemStyle:{color:t[i]}}),s+=a[i]}),this.total=s,this.chartOption.series[0].data=r,this.chartOption.legend.data=e},processOption(){const{getColor:e}=this;this.chartOption={update:!1,title:{show:!1,text:`总量
1231`,x:"center",top:"45%",left:"center",textStyle:{fontSize:18,fontWeight:"bold",lineHeight:30}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",show:!0,itemWidth:14,itemGap:5,right:"30",top:"25%",data:[],formatter:t=>{let a,r=this.chartData[this.current].data,s=this.chartData[this.current].legend;for(let o=0;o<r.length;o++)s[o]==t&&(a=r[o]);return"{a|"+t+"} {b|"+a+"}"},textStyle:{rich:{a:{fontSize:14,color:e("staFC"),padding:10},b:{fontSize:16,color:e("staFCW")}}}},series:[{name:"数据类别",type:"pie",radius:["45%","70%"],center:["30%","55%"],avoidLabelOverlap:!1,label:{show:!1,position:"outside"},itemStyle:{borderRadius:10,borderColor:e("techBG"),borderWidth:5},emphasis:{label:{show:!1,fontSize:"20",color:$c.gyd5}},labelLine:{show:!1},data:[]}]},this.processData()},chartTheme(){const{chartData:e,getPalette:t,oriColors:a}=this;e[0].colors=e[1].colors=t({total:15,actual:5,palette:"alt"})}},mounted(){this.processOption()}};var h=function(){var t=this,a=t._self._c;return a("div",{staticClass:"chart-hasTabs-SA theme"},[a("div",{staticClass:"unit"},[t._v("单位:亿吨")]),a("div",{staticClass:"card-header-tabs"},t._l(t.chartData,function(r,s){return a("div",{staticClass:"button-wrap",on:{click:function(o){return t.tabClick(s)}}},[a("techButtonB1",{class:s==t.current?"active":"",attrs:{config:t.buttonConfig}},[t._v(t._s(r.name))])],1)}),0),a("div",{staticClass:"total-digital"},[a("span",{staticClass:"desc"},[t._v(t._s(t.chartData[t.current].name))]),a("DigitalTransform",{staticClass:"counter",attrs:{value:t.total,interval:t.globalConfig.animation?1e3:0,dislocation:!1}})],1),a("echartsInit",{attrs:{chartOption:t.chartOption}})],1)},d=[],p=c(n,h,d,!1,null,null,null,null);const f=p.exports;export{f as default};
